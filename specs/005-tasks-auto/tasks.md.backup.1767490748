---

description: "Tarefas para a feature 005 - Automa√ß√£o da gera√ß√£o do tasks.md"
---

# Tasks: Automa√ß√£o da Gera√ß√£o do tasks.md

**Input**: docs em `/specs/005-tasks-auto/`
**Prerequisites**: `plan.md` e `spec.md` existentes
**Tests**: validar comandos de gera√ß√£o e checagem via script
**Organization**: tarefas agrupadas por hist√≥ria para manter entregas independentes

## Format: `[ID] [P?] [Story] Description`

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: habilitar scripts Speckit no reposit√≥rio

- [ ] T001 Garantir permiss√£o de execu√ß√£o para `.specify/scripts/bash/*.sh`
- [ ] T002 Adicionar se√ß√£o r√°pida no README explicando como rodar `./.specify/scripts/bash/check-prerequisites.sh` e o fluxo Speckit

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: base para gerar/atualizar/validar tasks

- [ ] T010 Criar script `.specify/scripts/bash/generate-tasks.sh` que l√™ `spec.md`/`plan.md` e produz `tasks.md` usando template
- [ ] T011 Adicionar utilidade em `.specify/scripts/bash/common.sh` (ou arquivo novo) para extrair hist√≥rias priorizadas de `spec.md`
- [ ] T012 Definir formato de IDs e mapeamento Story ‚Üí prefixo (ex: US1 ‚Üí P1 hist√≥rias)
- [ ] T013 Validar sa√≠da do gerador em reposit√≥rio limpo (sem sobrescrever manual edits)

**Checkpoint**: gerador funcional em modo local

---

## Phase 3: User Story 1 - Gerar tasks.md Automaticamente (Priority: P1) üéØ

**Goal**: comando √∫nico gera `tasks.md` a partir de `spec.md`/`plan.md`
**Independent Test**: rodar gerador e comparar com template esperado

### Implementation
- [ ] T020 [P] [US1] Implementar parser de hist√≥rias (t√≠tulo, prioridade) e metas do `spec.md` em Bash/Python
- [ ] T021 [US1] Popular template de tarefas por hist√≥ria com blocos "Goal" e "Independent Test"
- [ ] T022 [US1] Garantir paths alinhados √† estrutura atual (`backend/`, `frontend/` se existirem; caso contr√°rio `src/`)

---

## Phase 4: User Story 2 - Atualizar tasks.md com Novas Features (Priority: P2)

**Goal**: reexecutar comando atualiza/mescla tarefas sem apagar personaliza√ß√µes
**Independent Test**: rodar gerador duas vezes com `spec.md` alterado e preservar ajustes manuais

### Implementation
- [ ] T030 [US2] Implementar modo de atualiza√ß√£o incremental (merge por IDs e Story)
- [ ] T031 [US2] Adicionar flag "--force" para recriar do zero preservando backup
- [ ] T032 [US2] Documentar fluxo de update no README

---

## Phase 5: User Story 3 - Valida√ß√£o Autom√°tica das Tarefas (Priority: P2)

**Goal**: validar que `tasks.md` est√° presente e consistente com `spec.md`
**Independent Test**: pipeline falha se `tasks.md` estiver ausente ou desatualizado

### Implementation
- [ ] T040 [US3] Criar verificador `.specify/scripts/bash/validate-tasks.sh` (com modo `--ci`)
- [ ] T041 [US3] Integrar verificador em CI (GitHub Actions placeholder) e em `check-prerequisites` com `--require-tasks`
- [ ] T042 [US3] Emitir resumo JSON com diverg√™ncias por hist√≥ria

---

## Phase N: Polish & Cross-Cutting

- [ ] T050 Atualizar `.specify/templates/tasks-template.md` conforme li√ß√µes do gerador
- [ ] T051 Registrar exemplos de entrada/sa√≠da em `specs/005-tasks-auto/quickstart.md`
- [ ] T052 Revisar documenta√ß√£o de agente em `CLAUDE.md`/`AGENTS.md` com novo comando

---

## Dependencies & Execution Order

- Fases 1 e 2 antes das hist√≥rias.
- US1 desbloqueia US2 e US3.
- Valida√ß√£o de CI depende do gerador pronto.
